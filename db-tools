#!/bin/bash

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

show_help() {
    echo "db-tools - MySQL database dump and restore utilities"
    echo ""
    echo "Usage: db-tools <command> [options]"
    echo ""
    echo "Commands:"
    echo "  dump      Dump a MySQL database"
    echo "  restore   Restore a MySQL database from a SQL file"
    echo ""
    echo "Run 'db-tools <command> --help' for more information on a command."
}

if [ $# -eq 0 ]; then
    show_help
    exit 1
fi

case "$1" in
    dump)
        shift
        "$SCRIPT_DIR/db_dumper.sh" "$@"
        ;;
    restore)
        shift
        "$SCRIPT_DIR/db_restore.sh" "$@"
        ;;
    --help|-h|help)
        show_help
        exit 0
        ;;
    *)
        echo "Unknown command: $1"
        echo ""
        show_help
        exit 1
        ;;
esac
